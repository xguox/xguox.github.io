<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Rails 3 Remote Links and Forms: A Definitive Guide - XguoX - å†™ç‚¹ Ruby ç³Šå£é¥­åƒ</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="XguoX" /><meta name="description" content="blahblah: è¿™äº›å¤©é‡ä¸Šä¸€äº›å›°éš¾è¯·æ•™Larryçš„æ—¶å€™ä»–æ²¡å°‘ç»™æˆ‘ä¸€äº›è‹±æ–‡çš„èµ„æ–™,è™½ç„¶èƒ½å¤Ÿé˜…è¯»,ä½†æ˜¯å§‹ç»ˆè§‰å¾—ç¿»è¯‘å›ä¸­æ–‡ä»¥åå†çœ‹ä¹Ÿæ–¹ä¾¿äº›.ä¸è¿‡æœ‰äº›åœ°æ–¹ç¿»çš„æ¯”è¾ƒ" /><meta name="keywords" content="Ruby, Golang, Erlang, å‰ç«¯, åç«¯, Android, Elasticsearch, Programmer, Photo, Lens, Camera, Sony, A7r, Fujifilm, Lego" />






<meta name="generator" content="Hugo 0.53 with even 4.0.0" />


<link rel="canonical" href="https://xguox.me/rails-3-remote-links-and-forms.html/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">


<link href="/dist/even.3eafe5cf.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Rails 3 Remote Links and Forms: A Definitive Guide" />
<meta property="og:description" content="blahblah: è¿™äº›å¤©é‡ä¸Šä¸€äº›å›°éš¾è¯·æ•™Larryçš„æ—¶å€™ä»–æ²¡å°‘ç»™æˆ‘ä¸€äº›è‹±æ–‡çš„èµ„æ–™,è™½ç„¶èƒ½å¤Ÿé˜…è¯»,ä½†æ˜¯å§‹ç»ˆè§‰å¾—ç¿»è¯‘å›ä¸­æ–‡ä»¥åå†çœ‹ä¹Ÿæ–¹ä¾¿äº›.ä¸è¿‡æœ‰äº›åœ°æ–¹ç¿»çš„æ¯”è¾ƒ" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://xguox.me/rails-3-remote-links-and-forms.html/" /><meta property="article:published_time" content="2012-07-11T16:01:23&#43;08:00"/>
<meta property="article:modified_time" content="2012-07-11T16:01:23&#43;08:00"/>

<meta itemprop="name" content="Rails 3 Remote Links and Forms: A Definitive Guide">
<meta itemprop="description" content="blahblah: è¿™äº›å¤©é‡ä¸Šä¸€äº›å›°éš¾è¯·æ•™Larryçš„æ—¶å€™ä»–æ²¡å°‘ç»™æˆ‘ä¸€äº›è‹±æ–‡çš„èµ„æ–™,è™½ç„¶èƒ½å¤Ÿé˜…è¯»,ä½†æ˜¯å§‹ç»ˆè§‰å¾—ç¿»è¯‘å›ä¸­æ–‡ä»¥åå†çœ‹ä¹Ÿæ–¹ä¾¿äº›.ä¸è¿‡æœ‰äº›åœ°æ–¹ç¿»çš„æ¯”è¾ƒ">


<meta itemprop="datePublished" content="2012-07-11T16:01:23&#43;08:00" />
<meta itemprop="dateModified" content="2012-07-11T16:01:23&#43;08:00" />
<meta itemprop="wordCount" content="3371">



<meta itemprop="keywords" content="Translation,Ruby," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Rails 3 Remote Links and Forms: A Definitive Guide"/>
<meta name="twitter:description" content="blahblah: è¿™äº›å¤©é‡ä¸Šä¸€äº›å›°éš¾è¯·æ•™Larryçš„æ—¶å€™ä»–æ²¡å°‘ç»™æˆ‘ä¸€äº›è‹±æ–‡çš„èµ„æ–™,è™½ç„¶èƒ½å¤Ÿé˜…è¯»,ä½†æ˜¯å§‹ç»ˆè§‰å¾—ç¿»è¯‘å›ä¸­æ–‡ä»¥åå†çœ‹ä¹Ÿæ–¹ä¾¿äº›.ä¸è¿‡æœ‰äº›åœ°æ–¹ç¿»çš„æ¯”è¾ƒ"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div class="row">
    <div class="col s12 m4">
      <div class="table cover">
        <div class="cover-card table-cell table-middle">

  <img src="/img/logo.jpeg" alt="" class="avatar">

  <a href="https://xguox.me/" class="author_name">XguoX</a>
  <span class="author_job">å†™ç‚¹ Ruby ç³Šå£é¥­åƒ</span>
  <span class="author_bio mbm"> ğŸ¨ é•¿è‰å­¦ç”»ç”» ... </span>
  <nav class="nav">
    <ul class="nav-list">
      <li class="nav-item">
        <a href="https://xguox.me/">home</a>
        <span>/</span>
      </li>

      <li class="nav-item">
        <a href="https://xguox.me/post/">Archive</a>

          <span>/</span>

      </li>

      <li class="nav-item">
        <a href="https://xguox.me/categories/">Categories</a>
      </li>

    </ul>
  </nav>

  <div class="social-links">
    <ul>
        <li><a href="mailto:xguox@hotmail.com" class="iconfont icon-email" title="email"></a></li>
        <li><a href="https://twitter.com/XguoX_L" class="iconfont icon-twitter" title="twitter"></a></li>
        <li><a href="https://github.com/xguox" class="iconfont icon-github" title="github"></a></li>
    <li>
      <a href="https://xguox.me/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
    </li>
    </ul>
  </div>

  <section id="js-search" class="p-3 p-lg-5 d-flex flex-column">
    <div class="my-auto" >
      <form action="https://xguox.me/search">
        <input id="search-query" name="s" placeholder="~$ enter to search"/>
      </form>
    </div>
  </section>
</div>
      </div>
    </div>
    <div class="col s12 m8">
      <div class="post-listing">
        
        <div class="container" id="mobile-panel">
          

          <main id="main" class="main">
            <div class="content-wrapper">
              <div id="content" class="content">
                <article class="post inner">
    <a class="home-btn" href= "https://xguox.me/" >
      Home
    </a>
    
    <header class="post-header">
      <h1 class="post-title">Rails 3 Remote Links and Forms: A Definitive Guide</h1>

      <div class="post-meta">
        <span class="post-time"> 11 Jul 2012 </span>
          <span class="more-meta"> 3371 words </span>
          <span class="more-meta"> 7 mins read </span>
        
      </div>
      <div class="post-category">
          <a href="/categories/translation/"> Translation </a>
          <a href="/categories/ruby/"> Ruby </a>
          </div>
    </header>

    
    <div class="post-content">
      

<h5 id="blahblah">blahblah:</h5>

<blockquote>
<p>è¿™äº›å¤©é‡ä¸Šä¸€äº›å›°éš¾è¯·æ•™Larryçš„æ—¶å€™ä»–æ²¡å°‘ç»™æˆ‘ä¸€äº›è‹±æ–‡çš„èµ„æ–™,è™½ç„¶èƒ½å¤Ÿé˜…è¯»,ä½†æ˜¯å§‹ç»ˆè§‰å¾—ç¿»è¯‘å›ä¸­æ–‡ä»¥åå†çœ‹ä¹Ÿæ–¹ä¾¿äº›.ä¸è¿‡æœ‰äº›åœ°æ–¹ç¿»çš„æ¯”è¾ƒè¹©è„šå‘€.</p>

<p>åŸæ–‡:<a href="http://www.alfajango.com/blog/Rails-3-remote-links-and-forms/">Rails 3 Remote Links and Forms: A Definitive Guide</a></p>
</blockquote>

<p>Spoiler Alert:å¦‚æœä½ å–œæ¬¢é­”æ³•,è¯·åœæ­¢é˜…è¯»è¿™ç¯‡æ–‡ç« .å› ä¸º,è®©Railsçš„è¡¨å•ã€è¿æ¥ã€è¾“å…¥ç­‰å¦‚æ­¤å¼ºå¤§çš„Rails 3 UJSé©±åŠ¨â€”-Rails.js,å½“ä½ çŸ¥é“å®ƒçš„å·¥ä½œåŸç†å,ä½ å°±çŸ¥é“å…¶å®å®ƒæ²¡æœ‰å¤šä¹ˆçš„ç¥å¥‡.</p>

<h5 id="rails-jsåšä»€ä¹ˆ">Rails.jsåšä»€ä¹ˆ</h5>

<ol>
<li>å®ƒæ‰¾åˆ°è¿œç¨‹é“¾æ¥ã€è¡¨å•å’Œè¾“å…¥,å¹¶é€šè¿‡Ajaxè¦†ç›–è¿™äº›çš„clickäº‹ä»¶ä»¥æäº¤åˆ°æœåŠ¡å™¨ç«¯.</li>
<li>å®ƒè§¦å‘6ç§javascriptäº‹ä»¶æ¥è®©ä½ ç»‘å®šä¸€äº›å›è°ƒå‡½æ•°ç”¨ä»¥å¤„ç†å’Œæ“çºµè¿™ä¸ªAjaxå“åº”</li>
<li><del>å®ƒå¤„ç†ä»æœåŠ¡å™¨ç«¯å¾—åˆ°çš„Ajaxå›åº”</del></li>
</ol>

<h5 id="rails-jsä¸åšä»€ä¹ˆ">Rails.jsä¸åšä»€ä¹ˆ</h5>

<p>è¯·æ³¨æ„åˆ°ä¸Šè¿°æœ€åä¸€ç‚¹æ˜¯åŠ äº†åˆ é™¤çº¿çš„.å½“å¯ç”¨æ–°çš„Rails3è¿œç¨‹åŠŸèƒ½æ—¶å€™,è¿™ä¼¼ä¹æ˜¯æ··ä¹±çš„æœ€å¤§æ¥æº.å› ä¸ºå·²ç»æ ¹æ·±è’‚å›ºçš„ä¹ æƒ¯äºRails2çš„ link_to_remote ä¸ remote_form_for,æˆ‘ä»¬æœŸå¾…Rails3ä¹ŸåŒæ ·çš„ä¼šä¸ºæˆ‘ä»¬çš„è¡¨å•ã€é“¾æ¥å¤„ç†Ajaxå“åº”.ä½†æ˜¯Rails3å´æ²¡æœ‰è¿™ä¹ˆåš,å®ƒæŠŠè¿™äº›éƒ½äº¤ç»™ä½ å»å®Œæˆ. Railsä¼šåšçš„æ˜¯å¸®ä½ æŠŠåŒ…è£¹æ¬ä¸Šæˆ¿é—´,ä½†ä¸ä¼šå¸®ä½ æ‰“å¼€åŒ…è£¹.This is by design;ä¸ºä»€ä¹ˆä½ æƒ³è¦ä¾ä»å¸®ä½ ä½¿ç”¨ä½ çš„ä¸œè¥¿å‘¢?åŒæ ·çš„,æ¯ä¸ªå…ƒç´ çš„æ•°æ®å®é™…å¤„ç†æ–¹å¼å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯ç‹¬ä¸€æ— äºŒçš„,å¹¶ä¸”å–å†³äºä½ å†å„ç§æƒ…å†µä¸‹å·¥ä½œæ‰€å¾—çš„çš„æ•°æ®.æ‰€ä»¥,RailsæŠŠè¿™ä¸€éƒ¨åˆ†ç•™ç»™ä½ æ¥åšå†³å®š,è€Œæˆ‘ä»¬åˆ™å›åˆ°äº†è¿‡å».</p>

<h5 id="html5çš„è§’è‰²">HTML5çš„è§’è‰²</h5>

<p>ä½ å¯èƒ½å·²ç»å¬è¯´Rails3å°†ä½¿ç”¨HTML5.çš„ç¡®æ˜¯çš„.ä½†HTML5æ‰€æ‰®æ¼”çš„å®é™…è§’è‰²å¹¶æ²¡æœ‰ä½ æƒ³è±¡ä¸­çš„é‚£ä¹ˆé‡è¦. æ˜¯å¦è¿˜è®°å¾—Rails.jsæ‰€åšçš„ç¬¬ä¸€æ ·ä¸œè¥¿.åœ¨å®ƒèƒ½è¦†ç›–æ‰€æœ‰è¿œç¨‹å…ƒç´ çš„clickäº‹ä»¶å’Œsubmitäº‹ä»¶å‰,å®ƒéœ€è¦å…ˆæ‰¾åˆ°è¿™äº›æ‰€æœ‰çš„å…ƒç´ . å› æ­¤,æˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•æ¥æŒ‡å®šæˆ‘ä»¬çš„è¿œç¨‹å…ƒç´ .åœ¨ä»¥å‰,æˆ‘ä»¬å¯èƒ½ä¼šæ·»åŠ  class=&ldquo;remote&rdquo; åˆ°æˆ‘ä»¬çš„è¿œç¨‹å…ƒç´ .ä½†ç°åœ¨,æ‰€æœ‰çš„classå±æ€§éƒ½è·Ÿæ ·å¼ç›¸å…³è”äº†.éš¾é“å°±æ²¡æœ‰ä¸€ç§åŠæ³•èƒ½åŒºåˆ†å‡ºè¿œç¨‹å…ƒç´ è€Œä¸ç”¨æ±¡æŸ“åˆ°æˆ‘ä»¬çš„CSSç±». è¿™,åœ¨HTML5ä¸­æ˜¯æœ‰çš„.æœ‰è¿™ä¹ˆä¸€æ®µHTML5è§„èŒƒ:ç°åœ¨,ä½ å¯ä»¥æ·»åŠ ä»»æ„æ ‡ç­¾åˆ°ä¸€ä¸ªHTMLå…ƒç´ ,åªè¦è¿™ä¸ªæ ‡ç­¾çš„èµ·å§‹éƒ¨åˆ†æ˜¯&rdquo;data-&ldquo;.å› æ­¤,ä¸‹é¢è¿™æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„HTMLæ ‡è®°:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">a</span> <span class="na">hre</span><span class="o">=</span><span class="s">&#34;stuff.hml&#34;</span> <span class="na">data-rocketsocks</span><span class="o">=</span><span class="s">&#34;whateva&#34;</span><span class="err">]]</span> <span class="p">&gt;</span> Blast off!<span class="err">&lt;</span>/a]] &gt;</code></pre></td></tr></table>
</div>
</div>
<p>Rails 3å……åˆ†åˆ©ç”¨äº†è¿™ç§æ–°çš„HTMLæ ‡è®°,å®ƒé€šè¿‡åœ¨HTMLå…ƒç´ ä¸­æ·»åŠ  :remote =&gt; true æ¥è½¬æ¢æ‰€æœ‰çš„é“¾æ¥å’Œè¡¨å•ä½¿å…¶æ‹¥æœ‰äº†æ ‡ç­¾ data-remote = true</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html"><span class="err">&lt;</span>%= link_to &#34;Get remote sauce&#34;, {:action =&gt; &#34;sauce&#34;}, :remote =&gt; true, :class =&gt; &#34;button-link&#34; %&gt;# =&gt; <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;sauce&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;button-link&#34;</span> <span class="na">data-remote</span><span class="o">=</span><span class="s">true</span><span class="p">&gt;</span>Get remote sauce<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>ç°åœ¨Rails.jsé€šè¿‡å¦‚ä¸‹çš„é€‰æ‹©å™¨æ‰¾åˆ°æ‰€æœ‰çš„è¿œç¨‹é“¾æ¥:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;form[data-remote]&#39;</span><span class="p">)</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;a[data-remote],input[data-remote]&#39;</span>
</code></pre></td></tr></table>
</div>
</div>
<p>å¹¶ä¸”åˆ†åˆ«é€šè¿‡ä¸€ä¸ªajaxè¯·æ±‚åˆ°formçš„actionå’Œlinkçš„hrefå±æ€§ä»è€Œé‡è½½äº†submitå’ŒclickåŠ¨ä½œ, Then it does the same thing wirh remote forms and inputs, using the form&rsquo;s action. å°±æ˜¯è¿™æ ·,HTML5åªæ˜¯æä¾›ä¸€ä¸ªæ–¹ä¾¿ã€è¯­æ³•ã€æ–¹å¼ç»™æˆ‘ä»¬ç”¨ä»¥æŒ‡å®šåŠé€‰æ‹©åŠ«æŒå“ªä¸ªå…ƒç´ (???)</p>

<h5 id="å¤„ç†ajaxå“åº”">å¤„ç†Ajaxå“åº”</h5>

<p>é‚£ä¹ˆ,æˆ‘ä»¬åˆ°åº•æ˜¯å¦‚ä½•æ ¹æ®ajaxå“åº”åšä¸€äº›äº‹æƒ…å‘¢?å¹¸è¿çš„æ˜¯,å½“Rails.jsè¿œç¨‹å‘é€ä½ çš„è¯·æ±‚æ—¶,å®ƒåŒæ—¶ä¹Ÿè§¦å‘äº†6ä¸ªè‡ªå®šä¹‰äº‹ä»¶,å¹¶ä¼ è¾“ç›¸åº”çš„æ•°æ®/å“åº”åˆ°æ¯ä¸€ä¸ªäº‹ä»¶.ä½ ä¹Ÿå¯ä»¥ç»‘å®šä½ è‡ªå·±çš„å¤„ç†å‡½æ•°åˆ°è¿™äº›äº‹ä»¶. è¿™6ä¸ªäº‹ä»¶æ˜¯:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="ss">ajax</span><span class="p">:</span><span class="n">before</span>
<span class="ss">ajax</span><span class="p">:</span><span class="n">loading</span>
<span class="ss">ajax</span><span class="p">:</span><span class="n">success</span>
<span class="ss">ajax</span><span class="p">:</span><span class="n">failure</span>
<span class="ss">ajax</span><span class="p">:</span><span class="n">complete</span>
<span class="ss">ajax</span><span class="p">:</span><span class="n">after</span></code></pre></td></tr></table>
</div>
</div>
<h5 id="update">Update:</h5>

<blockquote>
<p>åœ¨è¿™ç¯‡æ–‡ç« å†™ä¸‹å,Railså›¢é˜Ÿå¯¹ jQuery UJS driver åšäº†äº›æ”¹åŠ¨.åœ¨æœ€æ–°ç‰ˆæœ¬çš„Rails.jsä¸­,åªå‰©ä¸‹äº†ä»¥ä¸‹4ä¸ªå›è°ƒäº‹ä»¶:</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="ss">ajax</span><span class="p">:</span><span class="n">beforeSend</span>
<span class="ss">ajax</span><span class="p">:</span><span class="n">success</span>
<span class="ss">ajax</span><span class="p">:</span><span class="n">complete</span>
<span class="ss">ajax</span><span class="p">:</span><span class="n">error</span></code></pre></td></tr></table>
</div>
</div>
<p>è¿™æ ·,åœ¨ä½ çš„é¡µé¢ä¸­,ä½ å°†ä¼šåƒä¸‹é¢è¿™æ ·ç»‘å®šè¿™äº›äº‹ä»¶åˆ°ä¸€ä¸ªå‡½æ•°ä¸­:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.button-lnk&#39;</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;ajax:success&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>  <span class="nx">alert</span><span class="p">(</span><span class="s2">&#34;Success!&#34;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></td></tr></table>
</div>
</div>
<p>ä½ ä¼šå‘ç°,é€šè¿‡ç»‘å®šä¸€äº›å‡½æ•°åˆ°å®ä½“/äº‹ä»¶,åœ¨Railsä¸­çš„æ‰€æœ‰çš„javascriptåŠŸèƒ½éƒ½æ˜¯å¾ˆæ–¹ä¾¿çš„.</p>

<p>Binding is good,å› ä¸ºå®ƒä¸æ˜¯å¼•äººæ³¨ç›®çš„.javascriptåŠŸèƒ½å’Œhtmlæ ‡è®°åˆ†åˆ«ä½œä¸ºå®Œå…¨ç‹¬ç«‹å•ä½ä½†é€šè¿‡javascriptç»‘å®šåœ¨ä¸€èµ·çš„å­˜åœ¨.å¦‚æœç”¨æˆ·æ²¡æœ‰ç”¨åˆ°javascript,é‚£ä¹ˆjavascriptæ‰€ç»‘å®šåˆ°htmlå®ä½“çš„jså‡½æ•°å°†æ°¸è¿œä¸ä¼šè¢«æ‰§è¡Œ,ç”¨æˆ·æ‰€å¾—åˆ°çš„,åªæ˜¯å¹²å¹²å‡€å‡€ã€æœ‰æ•ˆçš„HTML</p>

<h5 id="æŠŠä»–ä»¬éƒ½æ”¾åœ¨ä¸€èµ·">æŠŠä»–ä»¬éƒ½æ”¾åœ¨ä¸€èµ·</h5>

<p>è§£é‡Šçš„è¶³å¤Ÿå¤šäº†,ä¸‹é¢è®©æˆ‘ä»¬å»ºç«‹ä¸€ä¸ªåŠ è½½ä¸€äº›å†…å®¹åˆ°é¡µé¢çš„è¿œç¨‹è¡¨å•.æˆ‘ä»¬ä¼šæä¾›ç»™ç”¨æˆ·å³æ—¶åé¦ˆ,å®Œæ•´åœ°å¤„ç†æ‰€æœ‰çš„é”™è¯¯,ä»¥åŠèƒ½è®©ç”¨æˆ·é‡ç½®è¡¨å•å†åšä¸€æ¬¡.æœ‰äº†ä»¥ä¸ŠçŸ¥è¯†çš„æ­¦è£…,å¸Œæœ›ä¸‹é¢çš„æ²¡æœ‰äººä¼šçœ‹èµ·æ¥ä»¥ä¸ºæ˜¯é­”æ³•. æ¥ä¸‹æ¥,æˆ‘ä»¬å°†å‡å®šåœ¨æˆ‘ä»¬çš„Rails appä¸­,æœ‰ä¸€ä¸ªComment model,ä¸”è¯¥modelåœ¨æ•°æ®åº“ä¸­æœ‰ä¸€ä¸ªtextç±»å‹çš„&rdquo;content&rdquo;å­—æ®µ.é€šè¿‡æäº¤ä¸€ä¸ªè¿œç¨‹è¡¨å•,æˆ‘ä»¬èƒ½è®©ç”¨æˆ·åˆ›å»ºä¸€ä¸ªcomment,å¹¶å°†è¿™ä¸ªcommentæ’å…¥åˆ°é¡µé¢ä¸­.</p>

<blockquote>
<p>ä½ å¯èƒ½æ³¨æ„åˆ°,æˆ‘ä»¬ç›´æ¥è¯·æ±‚äº†ä¸€ä¸ªhtmlçš„å“åº”,ä½†å´ä»¥JSONçš„å½¢å¼è¿”å›ä¸€äº›é”™è¯¯.æˆ‘ä»¬ä½¿ç”¨ respond_with è¦†ç›–äº†è®¸å¤šé­”æœ¯æ–¹æ³•.è¿™ä¸€åˆ‡è¯´æ˜æˆ‘ä»¬åœ¨è¯·æ±‚/å“åº”ä¸­æœ‰å¤šå¤§çš„æ§åˆ¶æƒ.</p>

<p>æ¥ç€çš„Part2å°†é€šè¿‡ä¸€ä¸ªæ›´production-appropriateçš„ä¾‹å­å™è¿°äº†å¦‚ä½•è¯·æ±‚ä¸€ä¸ªJS(xml,json,æ–‡æœ¬æˆ–å…¶ä»–)çš„å“åº”.</p>
</blockquote>

<h5 id="view">View</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="o">&lt;</span><span class="s">%= form_for @comment, :remote =</span><span class="o">&gt;</span> <span class="kp">true</span><span class="p">,</span> <span class="ss">:html</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:&#39;data-type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;html&#39;</span><span class="p">,</span> <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="s1">&#39;create_comment_form&#39;</span> <span class="p">}</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span> <span class="s">%&gt;  &lt;%= f.text_area(:content) %&gt;</span>
  <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&#34;validation-error&#34;</span><span class="o">&gt;&lt;</span><span class="sr">/div&gt;
</span><span class="sr">  &lt;%= f.submit %&gt;
</span><span class="sr">&lt;% end %&gt;
</span><span class="sr">
</span><span class="sr">&lt;div id=&#34;comments&#34;&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<h5 id="controller">Controller</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="n">respond_to</span> <span class="ss">:html</span><span class="p">,</span> <span class="ss">:xml</span><span class="p">,</span> <span class="ss">:json</span><span class="o">...</span>

<span class="k">def</span> <span class="nf">create</span>
  <span class="vi">@comment</span> <span class="o">=</span> <span class="no">Comment</span><span class="o">.</span><span class="n">new</span><span class="p">(</span> <span class="n">params</span><span class="o">[</span><span class="ss">:comment</span><span class="o">]</span> <span class="p">)</span>

  <span class="k">if</span> <span class="vi">@comment</span><span class="o">.</span><span class="n">save</span>
    <span class="n">respond_with</span> <span class="k">do</span> <span class="o">|</span><span class="nb">format</span><span class="o">|</span>
      <span class="nb">format</span><span class="o">.</span><span class="n">html</span> <span class="k">do</span>
        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">xhr?</span>
          <span class="n">render</span> <span class="ss">:partial</span> <span class="o">=&gt;</span> <span class="s2">&#34;comments/show&#34;</span><span class="p">,</span> <span class="ss">:locals</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:comment</span> <span class="o">=&gt;</span> <span class="vi">@comment</span> <span class="p">},</span> <span class="ss">:layout</span> <span class="o">=&gt;</span> <span class="kp">false</span><span class="p">,</span> <span class="ss">:status</span> <span class="o">=&gt;</span> <span class="ss">:created</span>
        <span class="k">else</span>
          <span class="n">redirect_to</span> <span class="vi">@comment</span>
        <span class="k">end</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">else</span>
    <span class="n">respond_with</span> <span class="k">do</span> <span class="o">|</span><span class="nb">format</span><span class="o">|</span>
      <span class="nb">format</span><span class="o">.</span><span class="n">html</span> <span class="k">do</span>
        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">xhr?</span>
          <span class="n">render</span> <span class="ss">:json</span> <span class="o">=&gt;</span> <span class="vi">@comment</span><span class="o">.</span><span class="n">errors</span><span class="p">,</span> <span class="ss">:status</span> <span class="o">=&gt;</span> <span class="ss">:unprocessable_entity</span>
        <span class="k">else</span>
          <span class="n">render</span> <span class="ss">:action</span> <span class="o">=&gt;</span> <span class="ss">:new</span><span class="p">,</span> <span class="ss">:status</span> <span class="o">=&gt;</span> <span class="ss">:unprocessable_entity</span>
        <span class="k">end</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></td></tr></table>
</div>
</div>
<p>æ˜¾è€Œæ˜“è§çš„,æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ˜¾ç¤ºcommentçš„partialæ¨¡æ¿ <code>_show.html.erb</code> .å¸Œæœ›ä½ çŸ¥é“å¦‚ä½•åšåˆ°.</p>

<p>åœ¨è¿™ä¸€ç‚¹ä¸Š,æˆ‘ä»¬æœ‰ä¸€ä¸ªæäº¤åˆ°è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„è¡¨å•,å¹¶ä¸”æˆ‘ä»¬çš„æœåŠ¡å™¨å“åº”ä»¥æˆ‘ä»¬åœ¨viewä¸­çš„partial,å¹¶å‡†å¤‡æ’å…¥åˆ°é¡µé¢ä¸­å».ä½†æœ‰ä¸€ç‚¹æ˜¯,å®ƒå¹¶ä¸æ˜¯çœŸæ­£çš„è¢«æ’å…¥åˆ°é¡µé¢ä¸­.</p>

<h5 id="javascript">Javascript</h5>

<p>æ˜¯æ—¶å€™ç»‘å®šä¸€äº›å¤„ç†å‡½æ•°åˆ°é‚£äº›è§¦å‘çš„ajaxäº‹ä»¶.å› æ­¤,åœ¨æˆ‘ä»¬çš„è¡¨å•é¡µé¢ä¸­,æˆ‘ä»¬å°†å¸Œæœ›åŠ è½½è¿™ä¸ªjavascript(å¯èƒ½ä¼šåœ¨æ ‡ç­¾æˆ–è€…åœ¨ä¸€ä¸ªåˆ†ç¦»å¼€çš„jsæ–‡ä»¶)</p>

<blockquote>
<p>Update:</p>

<p>ä¸‹é¢è¿™æ®µå·²ç»æ›´æ–°ä»¥ç»‘å®šåˆ°æœ€æ–°ç‰ˆæœ¬çš„Rails.jsæ‰€å…è®¸çš„å›è°ƒ.</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#create_comment_form&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&#34;ajax:beforeSend&#34;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">evt</span><span class="p">,</span> <span class="nx">xhr</span><span class="p">,</span> <span class="nx">settings</span><span class="p">){</span>
      <span class="kd">var</span> <span class="nx">$submitButton</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;input[name=&#34;commit&#34;]&#39;</span><span class="p">);</span>

      <span class="c1">// Update the text of the submit button to let the user know stuff is happening.
</span><span class="c1"></span>      <span class="c1">// But first, store the original text of the submit button, so it can be restored when the request is finished.
</span><span class="c1"></span>      <span class="nx">$submitButton</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span> <span class="s1">&#39;origText&#39;</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">text</span><span class="p">()</span> <span class="p">);</span>
      <span class="nx">$submitButton</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span> <span class="s2">&#34;Submitting...&#34;</span> <span class="p">);</span>

    <span class="p">})</span>
    <span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&#34;ajax:success&#34;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">evt</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">xhr</span><span class="p">){</span>
      <span class="kd">var</span> <span class="nx">$form</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>

      <span class="c1">// Reset fields and any validation errors, so form can be used again, but leave hidden_field values intact.
</span><span class="c1"></span>      <span class="nx">$form</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;textarea,input[type=&#34;text&#34;],input[type=&#34;file&#34;]&#39;</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="s2">&#34;&#34;</span><span class="p">);</span>
      <span class="nx">$form</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;div.validation-error&#39;</span><span class="p">).</span><span class="nx">empty</span><span class="p">();</span>

      <span class="c1">// Insert response partial into page below the form.
</span><span class="c1"></span>      <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#comments&#39;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">xhr</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>

    <span class="p">})</span>
    <span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;ajax:complete&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">evt</span><span class="p">,</span> <span class="nx">xhr</span><span class="p">,</span> <span class="nx">status</span><span class="p">){</span>
      <span class="kd">var</span> <span class="nx">$submitButton</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;input[name=&#34;commit&#34;]&#39;</span><span class="p">);</span>

      <span class="c1">// Restore the original submit button text
</span><span class="c1"></span>      <span class="nx">$submitButton</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;origText&#39;</span><span class="p">)</span> <span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&#34;ajax:error&#34;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">evt</span><span class="p">,</span> <span class="nx">xhr</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">error</span><span class="p">){</span>
      <span class="kd">var</span> <span class="nx">$form</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">),</span>
          <span class="nx">errors</span><span class="p">,</span>
          <span class="nx">errorText</span><span class="p">;</span>

      <span class="k">try</span> <span class="p">{</span>
        <span class="c1">// Populate errorText with the comment errors
</span><span class="c1"></span>        <span class="nx">errors</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">parseJSON</span><span class="p">(</span><span class="nx">xhr</span><span class="p">.</span><span class="nx">responseText</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// If the responseText is not valid JSON (like if a 500 exception was thrown), populate errors with a generic error message.
</span><span class="c1"></span>        <span class="nx">errors</span> <span class="o">=</span> <span class="p">{</span><span class="nx">message</span><span class="o">:</span> <span class="s2">&#34;Please reload the page and try again&#34;</span><span class="p">};</span>
      <span class="p">}</span>

      <span class="c1">// Build an unordered list from the list of errors
</span><span class="c1"></span>      <span class="nx">errorText</span> <span class="o">=</span> <span class="s2">&#34;There were errors with the submission: \n&lt;ul&gt;&#34;</span><span class="p">;</span>

      <span class="k">for</span> <span class="p">(</span> <span class="nx">error</span> <span class="k">in</span> <span class="nx">errors</span> <span class="p">)</span> <span class="p">{</span>
        <span class="nx">errorText</span> <span class="o">+=</span> <span class="s2">&#34;&lt;li&gt;&#34;</span> <span class="o">+</span> <span class="nx">error</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="nx">errors</span><span class="p">[</span><span class="nx">error</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&#34;&lt;/li&gt; &#34;</span><span class="p">;</span>
      <span class="p">}</span>

      <span class="nx">errorText</span> <span class="o">+=</span> <span class="s2">&#34;&lt;/ul&gt;&#34;</span><span class="p">;</span>

      <span class="c1">// Insert error list into form
</span><span class="c1"></span>      <span class="nx">$form</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;div.validation-error&#39;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">errorText</span><span class="p">);</span>
    <span class="p">});</span>

<span class="p">});</span>
</code></pre></td></tr></table>
</div>
</div>
<blockquote>
<p>è¿™äº›å‡½æ•°æ¯ä¸€ä¸ªéƒ½èƒ½è½»æ˜“åœ°æŠ½è±¡åŒ–,è¿™æ ·ä»–ä»¬èƒ½è½»æ˜“åœ°æˆ–è€…è‡ªåŠ¨åœ°åº”ç”¨åœ¨æˆ‘ä»¬æ‰€æœ‰çš„è¿œç¨‹è¡¨å•ä¸­.</p>
</blockquote>

<p>è¿™äº›ç»‘å®šä¹Ÿä»¥åŒæ ·çš„æ–¹å¼å·¥ä½œäºè¿œç¨‹é“¾æ¥ä¸­.ä½†æˆ‘æƒ³æˆ‘ä»¬å·²ç»ä½¿ç”¨äº†ä¸€ä¸ªè¿œç¨‹è¡¨å•åœ¨è¿™ä¸ªä¾‹å­ä¸­,ç”±äºè¿™éœ€è¦ä¸€äº›é¢å¤–çš„ä½†æ²¡æœ‰æ˜æ˜¾åŒºåˆ«çš„æ­¥éª¤(ä¾‹å¦‚æ¸…é™¤è¡¨å•æˆ–å¢æ·»éªŒè¯é”™è¯¯)</p>

<p>åŒæ—¶,éœ€è¦æ³¨æ„åˆ°:ä»ajaxäº‹ä»¶æ‰€ä¼ è¾“åˆ°ä½ çš„å‡½æ•°çš„æ•°æ®å¹¶ä¸æ˜¯åœ¨åŒä¸€ä¸ªé¡ºåº.åœ¨ajax:successä¸­æ˜¯ evt,data,status,xhr ,è€Œåœ¨ajax:failureä¸­æ˜¯,eve,xhr,status,error.This will get ya every time.</p>

<h5 id="åˆ«æ€¥-è¿˜æœ‰æ›´é‡è¦çš„">åˆ«æ€¥,è¿˜æœ‰æ›´é‡è¦çš„</h5>

<p>å¦‚æœä½ ä»æ–‡ç« å¼€å§‹å°±åšè¶³åŠŸè¯¾,å¹¶ä¸”çœ‹è¿‡äº†Rails.jsæ–‡ä»¶,ä½ åº”è¯¥ä¼šæ³¨æ„åˆ°ä¸€äº›é¢å¤–çš„ç»†èŠ‚.</p>

<h5 id="live">.live</h5>

<p>Rails.jså®é™…ä¸Šç”¨ .live() è€Œä¸æ˜¯ç›´æ¥ç»‘å®šclickäº‹ä»¶åˆ°è¿œç¨‹è¡¨å•ã€é“¾æ¥ã€è¾“å…¥.è¿™æ ·,åœ¨ä¸Šé¢çš„javascriptä¸­,ä½ å¯ä»¥æ›¿æ¢ .bind() ä¸º .live() æ˜¾å¾—æ›´æ–‡è‰ºä¸€äº›.</p>

<h5 id="update-1">Update:</h5>

<blockquote>
<p>å¦‚æœè¦åœ¨ä½ çš„ajaxå¤„ç†ä¸­ä½¿ç”¨ .live() ,è¯·ç¡®å®šä½ æ‰€ä½¿ç”¨çš„jQueryç‰ˆæœ¬&gt;v1.4.4,å› ä¸ºæ—©äº›çš„ç‰ˆæœ¬ä¼šåœ¨IEä¸­å‡ºç°ä¸€äº›é—®é¢˜.</p>
</blockquote>

<h5 id="confirm-r-u-sure">:confirm =&gt; &ldquo;R U sure? &ldquo;</h5>

<p>ä½ å¯èƒ½è¿˜ä¼šæ³¨æ„åˆ° Rails.jsæ–‡ä»¶å¤„ç† :confirm =&gt; &ldquo;R U sure? &ldquo;(å½“ä½ ç‚¹å‡»æˆ–è€…æäº¤ä¸€äº›ä¸œè¥¿çš„æ—¶å€™å˜£çš„å¼¹å‡ºä¸€ä¸ªå°çª—å£å¹¶æ˜¾ç¤º&rdquo;R U sure&rdquo;(ä½ ä¹Ÿå¯ä»¥åªå†™ :confirm =&gt; true ä½¿ç”¨é»˜è®¤çš„ä¿¡æ¯)),å°±åƒè¿œç¨‹åŠŸèƒ½,Rails 3ç®€å•åœ°æ·»åŠ æœ‰æ•ˆçš„æ ‡ç­¾ data-confirm=true åˆ°ä½ çš„HTMLå…ƒç´ </p>

<h5 id="disable-with-submitting">:disable_with =&gt; &ldquo;Submittingâ€¦&rdquo;</h5>

<p>Rails 3ç»™äº†æˆ‘ä»¬å¦å¤–çš„ä¸€ä¸ªé€‰é¡¹,:disable_with,è¿™æ ·å½“ä¸€ä¸ªè¿œç¨‹è¡¨å•è¢«æäº¤çš„æ—¶å€™, we can give to form input elements to disable and re-label them.æ·»åŠ data-disable-withæ ‡ç­¾åˆ°è¿™äº›è¾“å…¥ä¸­,ä½¿Rails.jsèƒ½é€‰æ‹©å’Œç»‘å®šè¿™ä¸ªåŠŸèƒ½.</p>

<p>æƒ³çŸ¥é“å¦‚ä½•è®©è¿œç¨‹è¡¨å•æˆ–è€…é“¾æ¥å·¥ä½œäº js.erb(æˆ–è€…å…¶ä»–ä»»ä½•ä¸ä¹‹ç›¸å…³è”çš„å½¢å¼),è¯·çœ‹è¿™ç¯‡æ–‡ç« çš„<a href="http://xguox.me/rails-3-remote-links-and-forms-part-2-data-type-with-jquery.html">Part 2</a></p>

    </div>

    <footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/translation/">Translation</a>
          <a href="/tags/ruby/">Ruby</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/rails-3-remote-links-and-forms-part-2-data-type-with-jquery.html/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Rails 3 Remote Links and Forms Part 2: Data-type (With jQuery)</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/the-first-week-in-shanghai.html/">
            <span class="next-text nav-default">å®‰é¡¿ç”Ÿæ´»,èå…¥ä¸Šæµ·</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
              </div>
              <div id="disqus_thread"></div>
    <script type="text/javascript">
    (function() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'xguox';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

            </div>
          </main>

          <footer id="footer" class="footer">
            <div class="social-links">
      <a href="mailto:xguox@hotmail.com" class="iconfont icon-email" title="email"></a>
      <a href="https://twitter.com/XguoX_L" class="iconfont icon-twitter" title="twitter"></a>
      <a href="https://github.com/xguox" class="iconfont icon-github" title="github"></a>
  <a href="https://xguox.me/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme -
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy;
    2011 -
    2019
    <span class="heart">
      <i class="iconfont icon-bulb"></i>
    </span>
    <span class="author">XguoX</span>
  </span>
</div>
          </footer>

          <div class="back-to-top" id="back-to-top">
            <i class="iconfont icon-up"></i>
          </div>
        </div>
      </div>
    </div>
  </div>

  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>
<script type="text/javascript" src="/dist/even.733a52a9.min.js"></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-62252083-1', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>







</body>
</html>
