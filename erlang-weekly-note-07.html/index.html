<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Erlang weekly note 07 - Processes è¿›ç¨‹ - XguoX - å†™ç‚¹ Ruby ç³Šå£é¥­åƒ</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="XguoX" /><meta name="description" content="ä¸ºäº†è®©å‡ åä¸ªä»»åŠ¡èƒ½åŒæ—¶æ‰§è¡Œ, Erlang é‡‡ç”¨äº† Actor æ¨¡å‹, æ¯ä¸ª actor éƒ½æ˜¯è™šæ‹Ÿæœºä¸­çš„ä¸€ä¸ªç‹¬ç«‹è¿›ç¨‹. åœ¨ Erlang ä¸­, å¹¶å‘çš„åŸºæœ¬å•ä½æ˜¯è¿›ç¨‹(Actor). æ¯ä¸ªè¿›ç¨‹ä»£è¡¨ä¸€ä¸ªæŒ" /><meta name="keywords" content="Ruby, Golang, Erlang, å‰ç«¯, åç«¯, Android, Elasticsearch, Programmer, Photo, Lens, Camera, Sony, A7r, Fujifilm, Lego" />






<meta name="generator" content="Hugo 0.54.0 with even 4.0.0" />


<link rel="canonical" href="https://xguox.me/erlang-weekly-note-07.html/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">


<link href="/dist/even.3eafe5cf.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Erlang weekly note 07 - Processes è¿›ç¨‹" />
<meta property="og:description" content="ä¸ºäº†è®©å‡ åä¸ªä»»åŠ¡èƒ½åŒæ—¶æ‰§è¡Œ, Erlang é‡‡ç”¨äº† Actor æ¨¡å‹, æ¯ä¸ª actor éƒ½æ˜¯è™šæ‹Ÿæœºä¸­çš„ä¸€ä¸ªç‹¬ç«‹è¿›ç¨‹. åœ¨ Erlang ä¸­, å¹¶å‘çš„åŸºæœ¬å•ä½æ˜¯è¿›ç¨‹(Actor). æ¯ä¸ªè¿›ç¨‹ä»£è¡¨ä¸€ä¸ªæŒ" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://xguox.me/erlang-weekly-note-07.html/" />
<meta property="article:published_time" content="2017-08-30T16:01:23&#43;08:00"/>
<meta property="article:modified_time" content="2017-08-30T16:01:23&#43;08:00"/>

<meta itemprop="name" content="Erlang weekly note 07 - Processes è¿›ç¨‹">
<meta itemprop="description" content="ä¸ºäº†è®©å‡ åä¸ªä»»åŠ¡èƒ½åŒæ—¶æ‰§è¡Œ, Erlang é‡‡ç”¨äº† Actor æ¨¡å‹, æ¯ä¸ª actor éƒ½æ˜¯è™šæ‹Ÿæœºä¸­çš„ä¸€ä¸ªç‹¬ç«‹è¿›ç¨‹. åœ¨ Erlang ä¸­, å¹¶å‘çš„åŸºæœ¬å•ä½æ˜¯è¿›ç¨‹(Actor). æ¯ä¸ªè¿›ç¨‹ä»£è¡¨ä¸€ä¸ªæŒ">


<meta itemprop="datePublished" content="2017-08-30T16:01:23&#43;08:00" />
<meta itemprop="dateModified" content="2017-08-30T16:01:23&#43;08:00" />
<meta itemprop="wordCount" content="2260">



<meta itemprop="keywords" content="Erlang," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Erlang weekly note 07 - Processes è¿›ç¨‹"/>
<meta name="twitter:description" content="ä¸ºäº†è®©å‡ åä¸ªä»»åŠ¡èƒ½åŒæ—¶æ‰§è¡Œ, Erlang é‡‡ç”¨äº† Actor æ¨¡å‹, æ¯ä¸ª actor éƒ½æ˜¯è™šæ‹Ÿæœºä¸­çš„ä¸€ä¸ªç‹¬ç«‹è¿›ç¨‹. åœ¨ Erlang ä¸­, å¹¶å‘çš„åŸºæœ¬å•ä½æ˜¯è¿›ç¨‹(Actor). æ¯ä¸ªè¿›ç¨‹ä»£è¡¨ä¸€ä¸ªæŒ"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div class="row">
    <div class="col s12 m4">
      <div class="table cover">
        <div class="cover-card table-cell table-middle">

  <img src="/img/logo.jpeg" alt="" class="avatar">

  <a href="https://xguox.me/" class="author_name">XguoX</a>
  <span class="author_job">å†™ç‚¹ Ruby ç³Šå£é¥­åƒ</span>
  <span class="author_bio mbm"> ğŸ¨ é•¿è‰å­¦ç”»ç”» ... </span>
  <nav class="nav">
    <ul class="nav-list">
      <li class="nav-item">
        <a href="https://xguox.me/">home</a>
        <span>/</span>
      </li>

      <li class="nav-item">
        <a href="https://xguox.me/post/">Archive</a>

          <span>/</span>

      </li>

      <li class="nav-item">
        <a href="https://xguox.me/categories/">Categories</a>
      </li>

    </ul>
  </nav>

  <div class="social-links">
    <ul>
        <li><a href="mailto:xguox@hotmail.com" class="iconfont icon-email" title="email"></a></li>
        <li><a href="https://twitter.com/XguoX_L" class="iconfont icon-twitter" title="twitter"></a></li>
        <li><a href="https://github.com/xguox" class="iconfont icon-github" title="github"></a></li>
    <li>
      <a href="https://xguox.me/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
    </li>
    </ul>
  </div>

  <section id="js-search" class="p-3 p-lg-5 d-flex flex-column">
    <div class="my-auto" >
      <form action="https://xguox.me/search">
        <input id="search-query" name="s" placeholder="~$ enter to search"/>
      </form>
    </div>
  </section>
</div>
      </div>
    </div>
    <div class="col s12 m8">
      <div class="post-listing">
        
        <div class="container" id="mobile-panel">
          

          <main id="main" class="main">
            <div class="content-wrapper">
              <div id="content" class="content">
                <article class="post inner">
    <a class="home-btn" href= "https://xguox.me/" >
      Home
    </a>
    
    <header class="post-header">
      <h1 class="post-title">Erlang weekly note 07 - Processes è¿›ç¨‹</h1>

      <div class="post-meta">
        <span class="post-time"> 30 Aug 2017 </span>
          <span class="more-meta"> 2260 words </span>
          <span class="more-meta"> 5 mins read </span>
        
      </div>
      <div class="post-category">
          <a href="/categories/erlang/"> Erlang </a>
          </div>
    </header>

    
    <div class="post-content">
      

<p>ä¸ºäº†è®©å‡ åä¸ªä»»åŠ¡èƒ½åŒæ—¶æ‰§è¡Œ, <strong>Erlang</strong> é‡‡ç”¨äº† <strong>Actor</strong> æ¨¡å‹, <strong>æ¯ä¸ª actor éƒ½æ˜¯è™šæ‹Ÿæœºä¸­çš„ä¸€ä¸ªç‹¬ç«‹è¿›ç¨‹</strong>. åœ¨ Erlang ä¸­, å¹¶å‘çš„åŸºæœ¬å•ä½æ˜¯è¿›ç¨‹(Actor). æ¯ä¸ªè¿›ç¨‹ä»£è¡¨ä¸€ä¸ªæŒç»­çš„æ´»åŠ¨, æ˜¯æŸæ®µç¨‹åºä»£ç çš„æ‰§è¡Œä»£ç†, ä¸å…¶ä»–æŒ‰å„è‡ªçš„èŠ‚å¥æ‰§è¡Œè‡ªèº«ä»£ç çš„è¿›ç¨‹ä¸€èµ·å¹¶å‘è¿è¡Œ, è¿›ç¨‹ä¹‹é—´é æ¶ˆæ¯æ¥é€šä¿¡. <strong>Erlang çš„å¹¶å‘æ˜¯å¾ˆå»‰ä»·çš„, æ´¾ç”Ÿä¸€ä¸ªè¿›ç¨‹å°±è·Ÿåœ¨ OOP ä¸­åˆ†é…ä¸€ä¸ªå¯¹è±¡çš„å¼€é”€å·®ä¸å¤š.</strong> æ›´å½¢è±¡ä¸€äº›, å¦‚æœä½ æ˜¯ Erlang ä¸–ç•Œä¸­çš„ä¸€ä¸ª actor, ä½ å°†ä¼šæ˜¯ä¸€ä¸ªå­¤ç‹¬çš„äºº, ç‹¬è‡ªååœ¨ä¸€ä¸ªæ²¡æœ‰çª—æˆ·çš„é»‘å±‹å­é‡Œ, åœ¨ä½ çš„é‚®ç®±æ—ç­‰å¾…ç€æ¶ˆæ¯. å½“ä½ æ”¶åˆ°ä¸€æ¡æ¶ˆæ¯æ—¶, ä¼šç”¨ç‰¹å®šçš„æ–¹å¼æ¥å“åº”è¿™æ¡æ¶ˆæ¯ï¼šæ”¶åˆ°è´¦å•å°±è¦è¿›è¡Œæ”¯ä»˜ï¼›æ”¶åˆ°ç”Ÿæ—¥å¡, å°±å›ä¸€å°æ„Ÿè°¢ä¿¡ï¼›å¯¹äºä¸ç†è§£çš„æ¶ˆæ¯, å°±å®Œå…¨å¿½ç•¥. äººå’Œäººä¹‹é—´åªèƒ½é€šè¿‡å†™ä¿¡è¿›è¡Œäº¤æµ, å°±æ˜¯è¿™æ ·.</p>

<hr />

<p>ç†è§£è¿›ç¨‹ä¹‹å‰å…ˆè¦è¯´çš„æ˜¯ pid è¿™ä¸ªç‰¹æ®Šçš„ Erlang æ•°æ®ç±»å‹, Erlang æ”¯æŒè¿›ç¨‹ç¼–ç¨‹, <strong>ä»»ä½•ä»£ç éƒ½éœ€è¦ä¸€ä¸ªè¿›ç¨‹ä½œä¸ºè½½ä½“æ‰èƒ½æ‰§è¡Œ</strong>, æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ç¬¦, ä¹Ÿå³æ˜¯ pid. åœ¨ erlang shell ä¸­, è¿›ç¨‹çš„ pid ä¼šä»¥ç±»ä¼¼<0.62.0>çš„æ ¼å¼æ‰“å°,  è¿™ä¸ªæ ¼å¼åªç”¨äºè°ƒè¯•æ¯”è¾ƒç›®çš„.</p>

<p><code>self()</code> ä¼šå‘Šè¯‰ä½ å½“å‰è¿›ç¨‹(ä¹Ÿå°±æ˜¯è°ƒç”¨ self() çš„é‚£ä¸ªè¿›ç¨‹)çš„ pid.</p>

<hr />

<h5 id="process-operations">PROCESS OPERATIONS</h5>

<h6 id="æ´¾ç”Ÿè¿›ç¨‹">æ´¾ç”Ÿè¿›ç¨‹</h6>

<p>æ´¾ç”Ÿè¿›ç¨‹çš„å‡½æ•°æœ‰ä¸¤ä¸ª: <code>spawn/1</code>, <code>spawn/3</code>. ç¬¬ä¸€ä¸ªä»…æœ‰ä¸€ä¸ªå‚æ•°, å°±æ˜¯ç”¨ä½œæ–°è¿›ç¨‹å…¥å£çš„ fun å‡½æ•°, è¿™é‡Œè¦æ³¨æ„çš„æ˜¯, æˆ‘ä»¬æ— æ³•å¾—åˆ°å‡½æ•°Fçš„è¿”å›å€¼. æˆ‘ä»¬åªèƒ½å¾—åˆ°å®ƒçš„ pid, å› ä¸ºè¿›ç¨‹ä¸ä¼šè¿”å›ä»»ä½•ä¸œè¥¿; å¦ä¸€ä¸ªåˆ™éœ€è¦æ¨¡å—å, å‡½æ•°å, å‚æ•°åˆ—è¡¨ä¸‰ä¸ªå‚æ•°.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-erlang" data-lang="erlang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-erlang" data-lang="erlang"><span class="c">%% Erlang/OTP 20 [erts-9.0]
</span><span class="c"></span>
<span class="c">%% Eshell V9.0  (abort with ^G)
</span><span class="c"></span><span class="mi">1</span><span class="o">&gt;</span> <span class="nv">F</span> <span class="o">=</span> <span class="k">fun</span><span class="p">()</span> <span class="p">-</span><span class="err">&gt; 2 + 2 </span><span class="ni">end</span><span class="p">.</span>
<span class="err">#</span><span class="nv">Fun</span><span class="o">&lt;</span><span class="n">erl_eval</span><span class="p">.</span><span class="mi">20</span><span class="p">.</span><span class="mi">99386804</span><span class="o">&gt;</span>
<span class="mi">2</span><span class="o">&gt;</span> <span class="nb">spawn</span><span class="p">(</span><span class="nv">F</span><span class="p">).</span>
<span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">63</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span>
<span class="mi">3</span><span class="o">&gt;</span> <span class="nb">spawn</span><span class="p">(</span><span class="n">io</span><span class="p">,</span> <span class="n">format</span><span class="p">,</span> <span class="p">[</span><span class="s">&#34;Hello World!</span><span class="si">~n</span><span class="s">&#34;</span><span class="p">]).</span>
<span class="nv">Hello</span> <span class="nv">World</span><span class="o">!</span>
<span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">68</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<h6 id="æ¶ˆæ¯ä¼ é€’">æ¶ˆæ¯ä¼ é€’</h6>

<p>Erlang çš„è¿›ç¨‹ä¹‹é—´å¯ä»¥äº’ç›¸ä½¿ç”¨ <code>!</code> è¿ç®—ç¬¦å‘é€æ¶ˆæ¯.</p>

<p>è¯¥æ“ä½œç¬¦çš„å·¦è¾¹æ˜¯ä¸€ä¸ª pid, å³è¾¹å¯ä»¥æ˜¯ä»»æ„ Erlang æ•°æ®é¡¹. è¿™ä¸ªæ•°æ®é¡¹ä¼šè¢«å‘é€ç»™å·¦è¾¹çš„ pid æ‰€ä»£è¡¨çš„è¿›ç¨‹, è¿™ä¸ªè¿›ç¨‹å°±å¯ä»¥è®¿é—®å®ƒäº†.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-erlang" data-lang="erlang"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-erlang" data-lang="erlang"><span class="c">%% ç»™å½“å‰è¿›ç¨‹å‘é€ä¸€ä¸ª hello åŸå­
</span><span class="c"></span><span class="mi">1</span><span class="o">&gt;</span> <span class="nf">self</span><span class="p">()</span> <span class="o">!</span> <span class="n">hello</span><span class="p">.</span>
<span class="n">hello</span></code></pre></td></tr></table>
</div>
</div>
<p>å‘é€ä¸€äº›æ— äººä¼šçœ‹çš„æ¶ˆæ¯çš„ç”¨å¤„å°±å’Œå†™ä¸€äº›è¡¨è¾¾è‡ªæˆ‘æƒ…ç»ªçš„è¯—ä¸€æ ·(æ¢å¥è¯è¯´, å°±æ˜¯ä¸å¤§æœ‰ç”¨), å‘µå‘µå“’.</p>

<p>å› æ­¤, æˆ‘ä»¬è¿˜<strong>éœ€è¦ receive è¡¨è¾¾å¼æ¥æ¥æ”¶æ¶ˆæ¯</strong>.</p>

<p>receive çš„è¯­æ³•å½¢å¼å¦‚ä¸‹:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-erlang" data-lang="erlang"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-erlang" data-lang="erlang"><span class="k">receive</span>
     <span class="nv">Pattern1</span> <span class="k">when</span> <span class="nv">Guard1</span> <span class="p">-</span><span class="err">&gt; E</span><span class="ni">xpr1</span><span class="p">;</span>
     <span class="nv">Pattern2</span> <span class="k">when</span> <span class="nv">Guard2</span> <span class="p">-</span><span class="err">&gt; E</span><span class="ni">xpr2</span><span class="p">;</span>
     <span class="nv">Pattern3</span> <span class="p">-</span><span class="err">&gt; E</span><span class="ni">xpr3</span>
<span class="k">end</span></code></pre></td></tr></table>
</div>
</div>
<p>ä¸¾ä¸ªä¾‹å­:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-erlang" data-lang="erlang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-erlang" data-lang="erlang"><span class="p">-</span><span class="ni">module</span><span class="p">(</span><span class="n">dolphins</span><span class="p">).</span>
<span class="p">-</span><span class="ni">compile</span><span class="p">(</span><span class="n">export_all</span><span class="p">).</span>

<span class="nf">dolphin1</span><span class="p">()</span> <span class="p">-</span><span class="err">&gt;
</span><span class="err">    </span><span class="ni">receive</span>
        <span class="n">do_a_flip</span> <span class="p">-</span><span class="err">&gt;
</span><span class="err">            </span><span class="ni">io</span><span class="p">:</span><span class="nf">format</span><span class="p">(</span><span class="s">&#34;How about no?</span><span class="si">~n</span><span class="s">&#34;</span><span class="p">);</span>
        <span class="n">fish</span> <span class="p">-</span><span class="err">&gt;
</span><span class="err">            </span><span class="ni">io</span><span class="p">:</span><span class="nf">format</span><span class="p">(</span><span class="s">&#34;So long and thanks for all the fish!</span><span class="si">~n</span><span class="s">&#34;</span><span class="p">);</span>
        <span class="p">_</span> <span class="p">-</span><span class="err">&gt;
</span><span class="err">            </span><span class="ni">io</span><span class="p">:</span><span class="nf">format</span><span class="p">(</span><span class="s">&#34;Heh, we&#39;re smarter than you humans.</span><span class="si">~n</span><span class="s">&#34;</span><span class="p">)</span>
    <span class="k">end</span><span class="p">.</span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-erlang" data-lang="erlang"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-erlang" data-lang="erlang"><span class="mi">1</span><span class="o">&gt;</span> <span class="nf">c</span><span class="p">(</span><span class="n">dolphins</span><span class="p">).</span>
<span class="p">{</span><span class="n">ok</span><span class="p">,</span><span class="n">dolphins</span><span class="p">}</span>
<span class="mi">2</span><span class="o">&gt;</span> <span class="nv">Dolphin</span> <span class="o">=</span> <span class="nb">spawn</span><span class="p">(</span><span class="n">dolphins</span><span class="p">,</span> <span class="n">dolphin1</span><span class="p">,</span> <span class="p">[]).</span>
<span class="o">&lt;</span> <span class="mi">0</span><span class="p">.</span><span class="mi">39</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span>
<span class="mi">3</span><span class="o">&gt;</span> <span class="nv">Dolphin</span> <span class="o">!</span> <span class="s">&#34;oh, hello dolphin!&#34;</span><span class="p">.</span>
<span class="nv">Heh</span><span class="p">,</span> <span class="n">we</span><span class="err">&#39;</span><span class="n">re</span> <span class="n">smarter</span> <span class="n">than</span> <span class="n">you</span> <span class="n">humans</span><span class="p">.</span>
<span class="s">&#34;oh, hello dolphin!&#34;</span>
<span class="mi">4</span><span class="o">&gt;</span> <span class="nv">Dolphin</span> <span class="o">!</span> <span class="n">fish</span>
<span class="n">fish</span></code></pre></td></tr></table>
</div>
</div>
<p><strong>å‡½æ•°æ‰§è¡Œåˆ°äº† receive è¡¨è¾¾å¼. å› ä¸ºè¿›ç¨‹é‚®ç®±ä¸ºç©º, æ‰€ä»¥æµ·è±šè¿›ç¨‹ä¼šä¸€ç›´å¤„äºç­‰å¾…æ¶ˆæ¯çŠ¶æ€.</strong></p>

<p>æ”¶åˆ°äº†æ¶ˆæ¯&rdquo;oh, hello dolphin!&ldquo;. å‡½æ•°ä¼šå…ˆå¯¹ do_a<em>flip è¿›è¡Œæ¨¡å¼åŒ¹é…. å¤±è´¥äº†. ç„¶åå†å°è¯•æ¨¡å¼fish, ä¹Ÿå¤±è´¥äº†. æœ€åé‡åˆ°äº†åŒ¹é…ä¸€åˆ‡çš„å­å¥(</em>), åŒ¹é…æˆåŠŸ.</p>

<p>è¿›ç¨‹æ‰“å°æ¶ˆæ¯&rdquo;Heh, weâ€™re smarter than you humans.&ldquo;, æ¥ç€, è¿›ç¨‹ä¹Ÿéšä¹‹ç»“æŸ. å› æ­¤, å†æ¬¡å‘é€ <code>fish</code> ç»™ <code>Dolphin</code> çš„æ—¶å€™, å°±ä¸ä¼šå¯¹è¯¥æ¶ˆæ¯åšä»»ä½•ååº”.</p>

<hr />

<h5 id="è¶…æ—¶æ¥æ”¶">è¶…æ—¶æ¥æ”¶</h5>

<p>ä¸Šé¢æåˆ°çš„, å½“è¿›ç¨‹æ‰§è¡Œåˆ° receive è¡¨è¾¾å¼ä»¥åä¼šä¸€ç›´å¤„äºç­‰å¾…æ¶ˆæ¯çš„çŠ¶æ€, è€Œä¸”å¦‚æœä¸åšå¤„ç†å°±ä¼šä¸€ç›´ç­‰ä¸‹å». å‡ºç°è¿™æ ·æƒ…å†µçš„åŸå› æœ‰å¾ˆå¤š, æ¯”å¦‚å‡†å¤‡å‘é€æ¶ˆæ¯çš„è¿›ç¨‹åœ¨æ¶ˆæ¯å‘å‡ºä¹‹å‰å°±å´©æºƒæ‰äº†. ä¸ºäº†é¿å…è¶…æ—¶é—®é¢˜çš„å‡ºç°, å¯ä»¥åœ¨ receive å¢åŠ è¶…æ—¶è®¾ç½®, å¦‚ä¸‹:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-erlang" data-lang="erlang"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-erlang" data-lang="erlang"><span class="k">receive</span>
    <span class="nv">Match</span> <span class="p">-</span><span class="err">&gt; E</span><span class="ni">xpression1</span>
<span class="k">after</span> <span class="nv">Delay</span> <span class="p">-</span><span class="err">&gt;
</span><span class="err">    E</span><span class="ni">xpression2</span>
<span class="k">end</span><span class="p">.</span></code></pre></td></tr></table>
</div>
</div>
<p>ç­‰å¾… Delay æ¯«ç§’ä»¥åå¦‚æœæ²¡æœ‰ Match çš„æ¶ˆæ¯å°±ä¼šæ‰§è¡Œ after ä¸­çš„å†…å®¹, åœ¨è¿™é‡Œå°±æ˜¯ <code>Expression2</code></p>

<hr />

<h5 id="æ³¨å†Œè¿›ç¨‹">æ³¨å†Œè¿›ç¨‹</h5>

<p>æ¯ä¸ª Erlang ç³»ç»Ÿéƒ½æœ‰ä¸€ä¸ªæœ¬åœ°è¿›ç¨‹æ³¨å†Œè¡¨ç”¨äºæ³¨å†Œè¿›ç¨‹çš„ç®€å•å‘½åæœåŠ¡. ä¸€ä¸ªåç§°ä¸€æ¬¡åªèƒ½ç”¨äºä¸€ä¸ªè¿›ç¨‹.
å¯ä»¥ä½¿ç”¨å‡½æ•° erlang:register(Name, Pid) ä¸ºè¿›ç¨‹å‘½å. å¦‚æœè¿›ç¨‹æ­»äº¡äº†, å®ƒä¼šè‡ªåŠ¨å¤±å»è‡ªå·±çš„åå­—. ä¹Ÿå¯ä»¥ä½¿ç”¨å‡½æ•°unregister/1æ‰‹å·¥è§£é™¤è¿›ç¨‹çš„åå­—æ³¨å†Œ. å¯ä»¥è°ƒç”¨ <code>registered/0</code> å¾—åˆ°æ‰€æœ‰å·²æ³¨å†Œè¿›ç¨‹çš„åˆ—è¡¨, æˆ–è€…é€šè¿‡shellå‘½ä»¤ <code>regs()</code> å¾—åˆ°æ›´è¯¦ç»†çš„ä¿¡æ¯. ä½¿ç”¨å†…ç½®å‡½æ•° <code>whereis/1</code> å¯ä»¥æŸ¥æ‰¾å½“å‰ä¸æŒ‡å®šæ³¨å†Œåå¯¹åº”çš„ pid.</p>

<p>å‡è®¾æŸä¸ªè¿›ç¨‹å´©æºƒäº†, å¯¹åº”çš„æœåŠ¡è¢«é‡å¯, æ–°çš„æœåŠ¡è¿›ç¨‹ pid å°†ä¼šæ”¹å˜,  æ­¤æ—¶æ— éœ€é€ä¸ªé€šçŸ¥ç»™ç³»ç»Ÿä¸­çš„æ‰€æœ‰è¿›ç¨‹, åªè¦æ›´æ–°è¿›ç¨‹æ³¨å†Œè¡¨å°±å¯ä»¥äº†.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-erlang" data-lang="erlang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-erlang" data-lang="erlang"><span class="mi">1</span><span class="o">&gt;</span> <span class="nf">registered</span><span class="p">().</span>
<span class="p">[</span><span class="n">application_controller</span><span class="p">,</span><span class="n">user</span><span class="p">,</span><span class="n">standard_error</span><span class="p">,</span><span class="n">erl_prim_loader</span><span class="p">,</span>
 <span class="n">inet_db</span><span class="p">,</span><span class="n">init</span><span class="p">,</span><span class="n">erts_code_purger</span><span class="p">,</span><span class="n">rex</span><span class="p">,</span><span class="n">error_logger</span><span class="p">,</span><span class="n">user_drv</span><span class="p">,</span>
 <span class="n">kernel_sup</span><span class="p">,</span><span class="n">global_name_server</span><span class="p">,</span><span class="n">erl_signal_server</span><span class="p">,</span>
 <span class="n">standard_error_sup</span><span class="p">,</span><span class="n">file_server_2</span><span class="p">,</span><span class="n">global_group</span><span class="p">,</span>
 <span class="n">kernel_safe_sup</span><span class="p">,</span><span class="n">code_server</span><span class="p">]</span>
<span class="mi">2</span><span class="o">&gt;</span> <span class="nf">regs</span><span class="p">().</span>

<span class="o">**</span> <span class="nv">Registered</span> <span class="n">procs</span> <span class="n">on</span> <span class="nb">node</span> <span class="n">nonode</span><span class="p">@</span><span class="n">nohost</span> <span class="o">**</span>
<span class="nv">Name</span>                  <span class="nv">Pid</span>          <span class="nv">Initial</span> <span class="nv">Call</span>                      <span class="nv">Reds</span> <span class="nv">Msgs</span>
<span class="n">application_controlle</span> <span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">33</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span>     <span class="nn">erlang</span><span class="p">:</span><span class="nb">apply</span><span class="o">/</span><span class="mi">2</span>                     <span class="mi">551</span>    <span class="mi">0</span>
<span class="n">code_server</span>           <span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">38</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span>     <span class="nn">erlang</span><span class="p">:</span><span class="nb">apply</span><span class="o">/</span><span class="mi">2</span>                  <span class="mi">121988</span>    <span class="mi">0</span>
<span class="n">erl_prim_loader</span>       <span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">6</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span>      <span class="nn">erlang</span><span class="p">:</span><span class="nb">apply</span><span class="o">/</span><span class="mi">2</span>                  <span class="mi">139520</span>    <span class="mi">0</span>
<span class="n">erl_signal_server</span>     <span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">47</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span>     <span class="nn">gen_event</span><span class="p">:</span><span class="n">init_it</span><span class="o">/</span><span class="mi">6</span>                 <span class="mi">51</span>    <span class="mi">0</span>
<span class="n">error_logger</span>          <span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">32</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span>     <span class="nn">gen_event</span><span class="p">:</span><span class="n">init_it</span><span class="o">/</span><span class="mi">6</span>                <span class="mi">322</span>    <span class="mi">0</span>
<span class="n">erts_code_purger</span>      <span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span>      <span class="nn">erts_code_purger</span><span class="p">:</span><span class="n">start</span><span class="o">/</span><span class="mi">0</span>             <span class="mi">4</span>    <span class="mi">0</span>
<span class="n">file_server_2</span>         <span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">46</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span>     <span class="nn">file_server</span><span class="p">:</span><span class="n">init</span><span class="o">/</span><span class="mi">1</span>                 <span class="mi">113</span>    <span class="mi">0</span>
<span class="n">global_group</span>          <span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">45</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span>     <span class="nn">global_group</span><span class="p">:</span><span class="n">init</span><span class="o">/</span><span class="mi">1</span>                 <span class="mi">74</span>    <span class="mi">0</span>
<span class="n">global_name_server</span>    <span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">41</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span>     <span class="nn">global</span><span class="p">:</span><span class="n">init</span><span class="o">/</span><span class="mi">1</span>                       <span class="mi">63</span>    <span class="mi">0</span>
<span class="n">inet_db</span>               <span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">44</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span>     <span class="nn">inet_db</span><span class="p">:</span><span class="n">init</span><span class="o">/</span><span class="mi">1</span>                     <span class="mi">348</span>    <span class="mi">0</span>
<span class="n">init</span>                  <span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span>      <span class="nn">otp_ring0</span><span class="p">:</span><span class="n">start</span><span class="o">/</span><span class="mi">2</span>                  <span class="mi">818</span>    <span class="mi">0</span>
<span class="n">kernel_safe_sup</span>       <span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">55</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span>     <span class="nn">supervisor</span><span class="p">:</span><span class="n">kernel</span><span class="o">/</span><span class="mi">1</span>                 <span class="mi">83</span>    <span class="mi">0</span>
<span class="n">kernel_sup</span>            <span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">37</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span>     <span class="nn">supervisor</span><span class="p">:</span><span class="n">kernel</span><span class="o">/</span><span class="mi">1</span>               <span class="mi">2162</span>    <span class="mi">0</span>
<span class="n">rex</span>                   <span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">40</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span>     <span class="nn">rpc</span><span class="p">:</span><span class="n">init</span><span class="o">/</span><span class="mi">1</span>                          <span class="mi">32</span>    <span class="mi">0</span>
<span class="n">standard_error</span>        <span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">49</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span>     <span class="nn">erlang</span><span class="p">:</span><span class="nb">apply</span><span class="o">/</span><span class="mi">2</span>                      <span class="mi">11</span>    <span class="mi">0</span>
<span class="n">standard_error_sup</span>    <span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">48</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span>     <span class="nn">supervisor_bridge</span><span class="p">:</span><span class="n">standar</span>           <span class="mi">50</span>    <span class="mi">0</span>
<span class="n">user</span>                  <span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">52</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span>     <span class="nn">group</span><span class="p">:</span><span class="n">server</span><span class="o">/</span><span class="mi">3</span>                      <span class="mi">87</span>    <span class="mi">0</span>
<span class="n">user_drv</span>              <span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">51</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span>     <span class="nn">user_drv</span><span class="p">:</span><span class="n">server</span><span class="o">/</span><span class="mi">2</span>                 <span class="mi">2703</span>    <span class="mi">0</span>

<span class="o">**</span> <span class="nv">Registered</span> <span class="n">ports</span> <span class="n">on</span> <span class="nb">node</span> <span class="n">nonode</span><span class="p">@</span><span class="n">nohost</span> <span class="o">**</span>
<span class="nv">Name</span>                  <span class="nv">Id</span>              <span class="nv">Command</span>
<span class="n">ok</span>
<span class="mi">4</span><span class="o">&gt;</span> <span class="nb">whereis</span><span class="p">(</span><span class="n">user</span><span class="p">).</span>
<span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">52</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<h5 id="é“¾æ¥-link">é“¾æ¥ Link</h5>

<p>é“¾æ¥(link)æ˜¯ä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´çš„ä¸€ç§ç‰¹æ®Šå…³ç³». å½“åœ¨ä¸¤ä¸ªè¿›ç¨‹é—´å»ºç«‹äº†è¿™ç§å…³ç³»å, å¦‚æœå…¶ä¸­ä¸€ä¸ªè¿›ç¨‹ç”±äºæ„å¤–çš„æŠ›å‡º, å‡ºé”™æˆ–è€…é€€å‡ºè€Œæ­»äº¡æ—¶, å¦å¤–ä¸€ä¸ªè¿›ç¨‹ä¹Ÿä¼šæ­»äº¡, æŠŠè¿™ä¸¤ä¸ªè¿›ç¨‹ç‹¬ç«‹çš„ç”Ÿå­˜æœŸç»‘å®šæˆä¸€ä¸ªå…³è”åœ¨ä¸€èµ·çš„ç”Ÿå­˜æœŸ.</p>

<p>Erlang ä¸­æœ‰ä¸€ä¸ªåŸç”Ÿå‡½æ•° <code>link/1</code>, ç”¨äºåœ¨ä¸¤ä¸ªè¿›ç¨‹é—´å»ºç«‹ä¸€æ¡é“¾æ¥, å®ƒçš„å‚æ•°æ˜¯è¿›ç¨‹çš„pid. å½“è°ƒç”¨å®ƒæ—¶, ä¼šåœ¨å½“å‰è¿›ç¨‹å’Œå‚æ•°pidæ ‡è¯†çš„è¿›ç¨‹ä¹‹é—´å»ºç«‹ä¸€æ¡é“¾æ¥. è¦å»é™¤é“¾æ¥, å¯ä»¥ä½¿ç”¨ <code>unlink/1</code>.</p>

<p>å½“é“¾æ¥è¿›ç¨‹ä¸­çš„ä¸€ä¸ªæ­»äº¡æ—¶, ä¼šå‘é€ä¸€æ¡ç‰¹æ®Šçš„æ¶ˆæ¯, å…¶ä¸­å«æœ‰æ­»äº¡åŸå› ç›¸å…³çš„ä¿¡æ¯. å¦‚æœè¿›ç¨‹æ­£å¸¸æ­»äº¡äº†(å‡½æ•°æ­£å¸¸æ‰§è¡Œå®Œæ¯•), å°±ä¸ä¼šå‘é€è¿™æ¡æ¶ˆæ¯.</p>

<p>æ³¨æ„, <code>link(spawn(Function))</code> æˆ–è€… <code>link(spawn(M,F,A))</code> å¹¶ä¸æ˜¯ä¸€ä¸ªåŸå­æ“ä½œ. æœ‰æ—¶, è¿›ç¨‹ä¼šåœ¨é“¾æ¥å»ºç«‹æˆåŠŸä¹‹å‰æ­»äº¡, ä»è€Œå¯¼è‡´ä¸æœŸæœ›çš„è¡Œä¸º. å› æ­¤, Erlang ä¸­å¢åŠ äº† <code>spawn_link/1</code> å’Œ<code>spawn_link/3</code> å‡½æ•°, å¯¹åº” <code>spawn/1</code> å’Œ <code>spawn/3</code>, åˆ›å»ºä¸€ä¸ªè¿›ç¨‹, å¹¶å’Œå®ƒå»ºç«‹é“¾æ¥, è¿™ä¸ªæ“ä½œæ˜¯åŸå­çº§çš„,  ä¹Ÿå°±æ„å‘³ç€è¦ä¹ˆæˆåŠŸ, è¦ä¹ˆå¤±è´¥.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-erlang" data-lang="erlang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-erlang" data-lang="erlang"><span class="p">-</span><span class="ni">module</span><span class="p">(</span><span class="n">linkmon</span><span class="p">).</span>
<span class="p">-</span><span class="ni">export</span><span class="p">([</span><span class="n">myproc</span><span class="o">/</span><span class="mi">0</span><span class="p">]).</span>
<span class="nf">myproc</span><span class="p">()</span> <span class="p">-</span><span class="err">&gt;
</span><span class="err">    </span><span class="ni">timer</span><span class="p">:</span><span class="nf">sleep</span><span class="p">(</span><span class="mi">5000</span><span class="p">),</span>
    <span class="nb">exit</span><span class="p">(</span><span class="n">reason</span><span class="p">).</span>

<span class="mi">1</span><span class="o">&gt;</span> <span class="nf">self</span><span class="p">().</span>
<span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">60</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span>
<span class="mi">2</span><span class="o">&gt;</span> <span class="nf">c</span><span class="p">(</span><span class="n">linkmon</span><span class="p">).</span>
<span class="p">{</span><span class="n">ok</span><span class="p">,</span><span class="n">linkmon</span><span class="p">}</span>
<span class="mi">3</span><span class="o">&gt;</span> <span class="nb">spawn_link</span><span class="p">(</span><span class="k">fun</span> <span class="nn">linkmon</span><span class="p">:</span><span class="n">myproc</span><span class="o">/</span><span class="mi">0</span><span class="p">).</span>
<span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">68</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span>
<span class="o">**</span> <span class="n">exception</span> <span class="nn">error</span><span class="p">:</span> <span class="n">reason</span>
<span class="mi">4</span><span class="o">&gt;</span> <span class="nf">self</span><span class="p">().</span>
<span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">70</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<h5 id="ç›‘æ§å™¨-monitor">ç›‘æ§å™¨ Monitor</h5>

<p>æœ‰æ—¶å€™é“¾æ¥å¯èƒ½ä¸æ˜¯ä½ æƒ³è¦çš„, ä¹Ÿè®¸åªæ˜¯æƒ³çŸ¥é“ç›®æ ‡è¿›ç¨‹æŒ‚äº†è€Œä¸æƒ³ç‰µè¿ç€ä¸€èµ·è¢«æ€æ­», é‚£ä¹ˆè¿™æ—¶å€™å°±è¦ç”¨ç›‘æ§å™¨(Monitor). ç›‘æ§å™¨å…¶å®æ˜¯ä¸€ä¸ªå•å‘çš„é“¾æ¥, å¯ä»¥è®©ä¸€ä¸ªè¿›ç¨‹åœ¨ä¸å½±å“ç›®æ ‡è¿›ç¨‹çš„æƒ…å†µä¸‹å¯¹ç›®æ ‡è¿›ç¨‹è¿›è¡Œç›‘è§†.</p>

<p>åˆ›å»ºç›‘æ§å™¨çš„å‡½æ•°æ˜¯ <code>erlang:monitor/2</code>, å®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯åŸå­ <strong>process</strong>, ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¿›ç¨‹çš„ Pid.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-erlang" data-lang="erlang"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-erlang" data-lang="erlang"><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">erlang</span><span class="p">:</span><span class="nb">monitor</span><span class="p">(</span><span class="n">process</span><span class="p">,</span> <span class="nb">spawn</span><span class="p">(</span><span class="k">fun</span><span class="p">()</span> <span class="p">-</span><span class="err">&gt; </span><span class="ni">timer</span><span class="p">:</span><span class="nf">sleep</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span> <span class="k">end</span><span class="p">)).</span>
<span class="err">#</span><span class="nv">Ref</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">3856117142</span><span class="p">.</span><span class="mi">833355780</span><span class="p">.</span><span class="mi">165079</span><span class="o">&gt;</span>
<span class="mi">2</span><span class="o">&gt;</span> <span class="nf">flush</span><span class="p">().</span>
<span class="nv">Shell</span> <span class="n">got</span> <span class="p">{</span><span class="n">&#39;DOWN&#39;</span><span class="p">,</span><span class="err">#</span><span class="nv">Ref</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">3856117142</span><span class="p">.</span><span class="mi">833355780</span><span class="p">.</span><span class="mi">165079</span><span class="o">&gt;</span><span class="p">,</span><span class="n">process</span><span class="p">,</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">.</span><span class="mi">62</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">,</span><span class="n">normal</span><span class="p">}</span>
<span class="n">ok</span>
<span class="mi">3</span><span class="o">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>æ¯å½“è¢«ç›‘æ§çš„è¿›ç¨‹æ­»äº¡æ—¶, ç›‘æ§è¿›ç¨‹éƒ½ä¼šæ”¶åˆ°ä¸€æ¡æ¶ˆæ¯, æ ¼å¼ä¸º <code>{'DOWN', MonitorReference, process, Pid, Reason}</code></p>

<p>å…¶ä¸­, <code>MonitorReference</code> å¯ä»¥ç”¨æ¥è§£é™¤å¯¹ä¸€ä¸ªè¿›ç¨‹çš„ç›‘æ§. è®°ä½, ç›‘æ§å™¨æ˜¯å¯å åŠ çš„, å› æ­¤ä¼šæ”¶åˆ°å¤šæ¡ DOWN æ¶ˆæ¯. å¼•ç”¨å¯ä»¥å”¯ä¸€ç¡®å®šä¸€æ¡ DOWN æ¶ˆæ¯. ç±»ä¼¼ <code>spawn_link</code> çš„ä¹Ÿæœ‰åŸå­çº§çš„ <code>spawn_monitor</code></p>

    </div>

    <footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/erlang/">Erlang</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/concurrency-in-ruby.html/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Ruby çš„å¹¶å‘, è¿›ç¨‹, çº¿ç¨‹, GIL, EventMachine, Celluloid</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/erlang-weekly-note-06.html/">
            <span class="next-text nav-default">Erlang weekly note 06 - Exceptions å¼‚å¸¸</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
              </div>
              <div id="disqus_thread"></div>
    <script type="text/javascript">
    (function() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'xguox';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

            </div>
          </main>

          <footer id="footer" class="footer">
            <div class="social-links">
      <a href="mailto:xguox@hotmail.com" class="iconfont icon-email" title="email"></a>
      <a href="https://twitter.com/XguoX_L" class="iconfont icon-twitter" title="twitter"></a>
      <a href="https://github.com/xguox" class="iconfont icon-github" title="github"></a>
  <a href="https://xguox.me/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme -
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy;
    2011 -
    2019
    <span class="heart">
      <i class="iconfont icon-bulb"></i>
    </span>
    <span class="author">XguoX</span>
  </span>
</div>
          </footer>

          <div class="back-to-top" id="back-to-top">
            <i class="iconfont icon-up"></i>
          </div>
        </div>
      </div>
    </div>
  </div>

  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>
<script type="text/javascript" src="/dist/even.733a52a9.min.js"></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-62252083-1', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>







</body>
</html>
